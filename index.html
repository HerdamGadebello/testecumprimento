<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Francês</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .fade-in { animation: fadeIn 0.5s ease-in; }
        .fade-out { animation: fadeOut 0.5s ease-out; }
        .slide-in { animation: slideIn 0.5s ease-out; }
    </style>
</head>
<body class="bg-[#F4F1EC] min-h-screen flex flex-col items-center justify-center font-['Poppins',_sans-serif]">
    <!-- Intro Video Section -->
    <div id="intro-section" class="fixed inset-0 bg-[#062250] flex items-center justify-center z-50">
        <video id="intro-video" class="w-3/4 md:w-1/2 lg:w-1/3" autoplay>
            <source src="VIDEOINTRO.mp4" type="video/mp4">
        </video>
    </div>

    <!-- Start Page -->
    <div id="start-page" class="hidden min-h-screen flex flex-col items-center justify-center bg-[#F1E1AC] w-full">
        <img src="MASCOTENEUTRO.png" alt="Mascote Neutro" class="w-1/2 md:w-1/3 lg:w-1/4 mb-8">
        <button id="start-button" class="bg-[#002F6C] text-white font-['Franklin_Gothic_Demi'] text-xl md:text-2xl px-8 py-4 rounded-full hover:bg-[#007BA7] transition-colors">
            INICIAR EXERCÍCIO
        </button>
    </div>

    <!-- Quiz Section -->
    <div id="quiz-section" class="hidden min-h-screen relative flex items-center justify-center w-full px-4">
        <img src="LOGODAMIAO.png" alt="Logo Damiao" class="absolute top-4 left-4 w-24 md:w-32 lg:w-40">
        <div class="bg-[#002F6C] rounded-3xl p-6 md:p-8 w-full max-w-3xl relative flex flex-col items-center">
            <img src="MASCOTENINHO.png" alt="Mascote Pequeno" class="absolute bottom-4 left-4 w-16 md:w-20">
            <div class="bg-[#C8102E] text-white font-['Rockwell'] text-lg md:text-xl text-center px-6 py-3 rounded-full -mt-12 mb-6 w-3/4">
                Escolha a alternativa que melhor traduz a seguinte palavra:
            </div>
            <div id="quiz-content" class="text-center w-full slide-in">
                <div class="flex justify-center mb-4">
                    <audio id="word-audio" controls>
                        <source src="" type="audio/mp3">
                    </audio>
                    <select id="audio-speed" class="ml-2 p-1 rounded">
                        <option value="0.5">0.5x</option>
                        <option value="1" selected>1x</option>
                        <option value="1.5">1.5x</option>
                        <option value="2">2x</option>
                    </select>
                </div>
                <h2 id="french-word" class="font-['Franklin_Gothic_Heavy'] text-3xl md:text-4xl text-black mb-6"></h2>
                <div id="options" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <!-- Options will be dynamically inserted here -->
                </div>
                <div id="feedback" class="font-['Poppins'] text-xl md:text-2xl text-black"></div>
            </div>
            <div class="flex justify-between mt-6 w-full">
                <button id="back-button" class="bg-[#3B8C59] text-white font-['Poppins'] px-6 py-2 rounded-full hover:bg-[#2E6C00] transition-colors">VOLTAR</button>
                <button id="next-button" class="bg-[#3B8C59] text-white font-['Poppins'] px-6 py-2 rounded-full hover:bg-[#2E6C00] transition-colors">AVANÇAR</button>
            </div>
        </div>
    </div>

    <!-- Results Section -->
    <div id="results-section" class="hidden min-h-screen flex items-center justify-center w-full px-4">
        <div class="bg-[#002F6C] rounded-3xl p-6 md:p-8 w-full max-w-3xl flex flex-col items-center">
            <div id="result-box" class="bg-[#C8102E] text-white font-['Franklin_Gothic_Demi'] text-2xl md:text-3xl text-center px-6 py-3 rounded-3xl mb-4"></div>
            <p id="result-text" class="font-['Poppins'] text-lg md:text-xl text-white text-center mb-6"></p>
            <img id="result-mascot" src="" alt="Mascote Resultado" class="w-1/2 md:w-1/3">
        </div>
    </div>

    <!-- Audio for feedback -->
    <audio id="win-audio" src="WIN.wav"></audio>
    <audio id="error-audio" src="ERROR.wav"></audio>
    <audio id="button-audio" src="BUTTON.mp3"></audio>
    <audio id="result-audio" src=""></audio>

    <script>
        const questions = [
            { word: "Bonjour", audio: "bonjour.m4a", correct: "Bom dia", options: ["Bom dia", "Boa noite", "Olá", "Tchau"] },
            { word: "Salut", audio: "salut.mp3", correct: "Olá", options: ["Olá", "Por favor", "Obrigado(a)", "Boa tarde"] },
            { word: "Merci", audio: "merci.mp3", correct: "Obrigado(a)", options: ["Obrigado(a)", "Por favor", "Desculpa", "De nada"] },
            { word: "Coucou", audio: "coucou.mp3", correct: "Oi", options: ["Oi", "Tchau", "Boa noite", "Bom dia"] },
            { word: "S'il te plaît", audio: "s'il te plaît.mp3", correct: "Por favor", options: ["Por favor", "Obrigado(a)", "Desculpa", "Até logo"] },
            { word: "S'il vous plaît", audio: "s'il vous plaît.mp3", correct: "Por favor", options: ["Por favor", "Obrigado(a)", "Desculpa", "Até logo"] },
            { word: "Pardon", audio: "pardon.mp3", correct: "Desculpa", options: ["Desculpa", "Obrigado(a)", "Por favor", "De nada"] },
            { word: "De rien", audio: "de rien.mp3", correct: "De nada", options: ["De nada", "Por favor", "Desculpa", "Obrigado(a)"] },
            { word: "À bientôt", audio: "à bientôt.mp3", correct: "Até breve", options: ["Até breve", "Tchau", "Boa noite", "Bom dia"] },
            { word: "Au revoir", audio: "au revoir.mp3", correct: "Tchau", options: ["Tchau", "Oi", "Boa tarde", "Por favor"] },
            { word: "Bonne nuit", audio: "bonne nuit.mp3", correct: "Boa noite", options: ["Boa noite", "Bom dia", "Olá", "Tchau"] },
            { word: "Bonne soirée", audio: "bonne soirée.mp3", correct: "Tenha uma boa noite", options: ["Tenha uma boa noite", "Boa tarde", "Bom dia", "Olá"] },
            { word: "Bonsoir", audio: "bonsoir.mp3", correct: "Boa noite", options: ["Boa noite", "Bom dia", "Olá", "Tchau"] },
            { word: "Bonne journée", audio: "bonne journée.mp3", correct: "Tenha um bom dia", options: ["Tenha um bom dia", "Boa noite", "Olá", "Tchau"] },
            { word: "Bon après-midi", audio: "bon après midi.mp3", correct: "Boa tarde", options: ["Boa tarde", "Bom dia", "Olá", "Tchau"] },
            { word: "Moi, c'est...", audio: "moi c'est.mp3", correct: "Eu sou", options: ["Eu sou", "Eu me chamo", "Por favor", "Obrigado(a)"] },
            { word: "Je m'appelle...", audio: "je m'apelle.mp3", correct: "Eu me chamo", options: ["Eu me chamo", "Eu sou", "Por favor", "Obrigado(a)"] }
        ];

        let currentQuestion = 0;
        let score = 0;
        let answered = false;

        // Shuffle options
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Load question
        function loadQuestion() {
            const question = questions[currentQuestion];
            document.getElementById("french-word").textContent = question.word;
            document.getElementById("word-audio").src = question.audio;
            document.getElementById("feedback").textContent = "";
            answered = false;

            const optionsContainer = document.getElementById("options");
            optionsContainer.innerHTML = "";
            const shuffledOptions = shuffle([...question.options]);
            shuffledOptions.forEach(option => {
                const button = document.createElement("button");
                button.className = "bg-[#F5C84C] text-black font-['Poppins'] px-4 py-2 rounded-3xl hover:bg-[#C6B9DD] transition-colors";
                button.textContent = option;
                button.addEventListener("click", () => checkAnswer(option, question.correct));
                optionsContainer.appendChild(button);
            });

            document.getElementById("quiz-content").classList.add("slide-in");
            setTimeout(() => document.getElementById("quiz-content").classList.remove("slide-in"), 500);
        }

        // Check answer
        function checkAnswer(selected, correct) {
            if (answered) return;
            answered = true;
            const feedback = document.getElementById("feedback");
            if (selected === correct) {
                feedback.textContent = "CORRETO";
                score++;
                document.getElementById("win-audio").play();
            } else {
                feedback.textContent = "INCORRETO";
                document.getElementById("error-audio").play();
            }
        }

        // Show results
        function showResults() {
            const percentage = (score / questions.length) * 100;
            const resultBox = document.getElementById("result-box");
            const resultText = document.getElementById("result-text");
            const resultMascot = document.getElementById("result-mascot");
            const resultAudio = document.getElementById("result-audio");

            if (percentage >= 95) {
                resultBox.textContent = "EXCELENTE";
                resultText.textContent = `Você acertou ${score}, continue assim, um excelente resultado`;
                resultMascot.src = "MASCOTEFELIZ.png";
                resultAudio.src = "POSITIVO.mp3";
            } else if (percentage >= 75) {
                resultBox.textContent = "PARABÉNS";
                resultText.textContent = `Você acertou ${score}, continue assim, um bom resultado`;
                resultMascot.src = "MASCOTEALEGRE.png";
                resultAudio.src = "POSITIVO.mp3";
            } else if (percentage >= 60) {
                resultBox.textContent = "QUASE LÁ";
                resultText.textContent = `Você acertou ${score}, não é um resultado ruim, mas também não é um bom resultado`;
                resultMascot.src = "MASCOTEDUVIDA.png";
                resultAudio.src = "NEGATIVO.mp3";
            } else {
                resultBox.textContent = "NÃO FOI DESSA VEZ";
                resultText.textContent = `Você acertou ${score}, um resultado abaixo do esperado`;
                resultMascot.src = "MASCOTEDUVIDA.png";
                resultAudio.src = "NEGATIVO.mp3";
            }
            resultAudio.play();
            document.getElementById("quiz-section").classList.add("fade-out");
            setTimeout(() => {
                document.getElementById("quiz-section").classList.add("hidden");
                document.getElementById("results-section").classList.remove("hidden");
                document.getElementById("results-section").classList.add("fade-in");
            }, 500);
        }

        // Event Listeners
        document.getElementById("intro-video").addEventListener("ended", () => {
            document.getElementById("intro-section").classList.add("fade-out");
            setTimeout(() => {
                document.getElementById("intro-section").classList.add("hidden");
                document.getElementById("start-page").classList.remove("hidden");
                document.getElementById("start-page").classList.add("fade-in");
            }, 500);
        });

        document.getElementById("start-button").addEventListener("click", () => {
            document.getElementById("start-page").classList.add("fade-out");
            setTimeout(() => {
                document.getElementById("start-page").classList.add("hidden");
                document.getElementById("quiz-section").classList.remove("hidden");
                document.getElementById("quiz-section").classList.add("fade-in");
                loadQuestion();
            }, 500);
        });

        document.getElementById("audio-speed").addEventListener("change", (e) => {
            document.getElementById("word-audio").playbackRate = parseFloat(e.target.value);
        });

        document.getElementById("back-button").addEventListener("click", () => {
            if (currentQuestion > 0) {
                document.getElementById("button-audio").play();
                currentQuestion--;
                loadQuestion();
            }
        });

        document.getElementById("next-button").addEventListener("click", () => {
            document.getElementById("button-audio").play();
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                showResults();
            }
        });
    </script>
</body>
</html>
